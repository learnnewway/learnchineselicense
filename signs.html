<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subject 1: Visual Recognition & Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Space+Grotesk:wght@500;700&display=swap');
        
        body { background-color: #ffffff; color: #292524; font-family: 'Outfit', sans-serif; overflow-x: hidden; }
        h1, h2, h3, .display-font { font-family: 'Space Grotesk', sans-serif; letter-spacing: -0.03em; }
        .info-card { background: #fafaf9; border-radius: 16px; box-shadow: 0 4px 20px -5px rgba(0,0,0,0.05); border: 1px solid #f5f5f4; transition: all 0.3s ease; position: relative; overflow: hidden; }
        .info-card:hover { transform: translateY(-4px); box-shadow: 0 12px 30px -10px rgba(234, 88, 12, 0.15); }
        .accent-bar-orange { border-left: 6px solid #ea580c; }
        .accent-bar-red { border-left: 6px solid #ef4444; }
        .accent-bar-yellow { border-left: 6px solid #eab308; }
        .accent-bar-blue { border-left: 6px solid #0ea5e9; }
        .accent-bar-teal { border-top: 6px solid #0d9488; }
        .bento-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 1.5rem; }
        .col-12 { grid-column: span 12; } .col-8 { grid-column: span 8; } .col-4 { grid-column: span 4; } .col-6 { grid-column: span 6; }
        @media (max-width: 1024px) { .col-8, .col-4, .col-6 { grid-column: span 12; } }
        .tab-content { display: none; }
        .tab-content.active { display: grid; }
    </style>
</head>
<body class="p-4 md:p-8 lg:p-12">

    <div class="max-w-7xl mx-auto">
        <header class="mb-8 flex flex-col md:flex-row justify-between items-end border-b-2 border-stone-100 pb-6 panel-animate">
            <div>
                <a href="index.html" class="inline-flex items-center text-sm font-bold text-stone-400 hover:text-orange-600 transition mb-4 uppercase tracking-wider bg-stone-50 px-4 py-2 rounded-lg border border-stone-200 shadow-sm">
                    <i class="fas fa-arrow-left mr-2"></i> Back to Command Center
                </a>
                <h1 class="text-4xl md:text-6xl font-extrabold text-stone-800 mt-2">Visual <span class="text-orange-600">Recognition</span></h1>
            </div>
        </header>

        <nav class="flex space-x-2 md:space-x-4 mb-8 overflow-x-auto pb-2 border-b-2 border-stone-100 panel-animate">
            <button onclick="switchTab('database', this)" class="tab-btn active px-8 py-3 rounded-t-xl font-bold bg-white text-orange-600 border-t-4 border-orange-600 shadow-[0_-4px_10px_-5px_rgba(0,0,0,0.1)] transition whitespace-nowrap"><i class="fas fa-book-open mr-2"></i>Visual Database</button>
            <button onclick="switchTab('simulator', this)" class="tab-btn px-8 py-3 rounded-t-xl font-bold bg-stone-50 text-stone-400 hover:bg-stone-100 hover:text-stone-700 transition whitespace-nowrap"><i class="fas fa-gamepad mr-2"></i>Simulator Engine</button>
        </nav>

        <div id="database" class="tab-content active bento-grid w-full">
            
            <div class="col-12 info-card accent-bar-orange p-6 md:p-8 panel-animate">
                <h2 class="text-2xl font-bold text-stone-800 mb-6 flex items-center"><span class="bg-orange-100 text-orange-600 p-2 rounded-lg mr-3"><i class="fas fa-user-shield"></i></span> Police Hand Signals</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="space-y-4 text-stone-600 font-medium">
                        <p class="bg-white p-4 rounded-xl border border-stone-200 shadow-sm"><strong class="text-orange-600 text-lg block mb-1">Stop Signal</strong> Left arm raised straight up, palm facing forward.</p>
                        <p class="bg-white p-4 rounded-xl border border-stone-200 shadow-sm"><strong class="text-orange-600 text-lg block mb-1">Straight Ahead</strong> Left arm raised sideways, right arm sweeps across chest.</p>
                        <p class="bg-white p-4 rounded-xl border border-stone-200 shadow-sm"><strong class="text-orange-600 text-lg block mb-1">Left Turn</strong> Right arm points right, left arm sweeps forward.</p>
                        <p class="bg-white p-4 rounded-xl border border-stone-200 shadow-sm"><strong class="text-orange-600 text-lg block mb-1">Pull Over</strong> Left arm raised straight up, right arm points down and sweeps.</p>
                    </div>
                    <div class="bg-stone-50 p-6 rounded-2xl border-2 border-dashed border-orange-300 flex flex-col items-center justify-center text-center h-full min-h-[300px] relative overflow-hidden group">
                        <i class="fas fa-image text-5xl text-orange-200 mb-4 group-hover:scale-110 transition-transform"></i>
                        <h3 class="text-orange-700 font-bold text-xl mb-2">Awaiting Local Asset</h3>
                        <p class="text-sm text-stone-500 font-medium max-w-xs">Upload your own chart to GitHub named <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded">police-chart.jpg</code> to display it here.</p>
                    </div>
                </div>
            </div>

            <div class="col-4 info-card accent-bar-red p-6 md:p-8 panel-animate">
                <h2 class="text-xl font-bold text-stone-800 mb-4 flex items-center"><span class="text-red-600 mr-2"><i class="fas fa-ban"></i></span> Prohibition</h2>
                <div class="mb-4 bg-white p-4 rounded-lg border border-red-100 shadow-inner h-32 flex justify-center items-center">
                    <svg viewBox="0 0 100 100" class="h-full drop-shadow-md">
                        <circle cx="50" cy="50" r="45" fill="#ef4444"/>
                        <rect x="20" y="42" width="60" height="16" fill="white"/>
                    </svg>
                </div>
                <div class="space-y-2 text-sm text-stone-600 font-medium">
                    <p><strong class="text-red-600">Logic:</strong> "Do Not Do This."</p>
                    <p>White background, solid red circle, black symbol (often with a red slash).</p>
                </div>
            </div>

            <div class="col-4 info-card accent-bar-yellow p-6 md:p-8 panel-animate">
                <h2 class="text-xl font-bold text-stone-800 mb-4 flex items-center"><span class="text-yellow-500 mr-2"><i class="fas fa-exclamation-triangle"></i></span> Warning</h2>
                <div class="mb-4 bg-white p-4 rounded-lg border border-yellow-100 shadow-inner h-32 flex justify-center items-center">
                    <svg viewBox="0 0 100 100" class="h-full drop-shadow-md">
                        <polygon points="50,10 90,90 10,90" fill="#eab308" stroke="#1c1917" stroke-width="4"/>
                        <rect x="46" y="35" width="8" height="30" fill="#1c1917" rx="2"/>
                        <circle cx="50" cy="78" r="5" fill="#1c1917"/>
                    </svg>
                </div>
                <div class="space-y-2 text-sm text-stone-600 font-medium">
                    <p><strong class="text-yellow-600">Logic:</strong> "Hazard Ahead."</p>
                    <p>Yellow triangle, black border, black symbol inside.</p>
                </div>
            </div>

            <div class="col-4 info-card accent-bar-blue p-6 md:p-8 panel-animate">
                <h2 class="text-xl font-bold text-stone-800 mb-4 flex items-center"><span class="text-blue-500 mr-2"><i class="fas fa-arrow-circle-right"></i></span> Mandatory</h2>
                <div class="mb-4 bg-white p-4 rounded-lg border border-blue-100 shadow-inner h-32 flex justify-center items-center">
                    <svg viewBox="0 0 100 100" class="h-full drop-shadow-md">
                        <circle cx="50" cy="50" r="45" fill="#0ea5e9"/>
                        <path d="M50,25 L50,75 M35,45 L50,25 L65,45" stroke="white" stroke-width="8" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="space-y-2 text-sm text-stone-600 font-medium">
                    <p><strong class="text-blue-600">Logic:</strong> "You MUST Do This."</p>
                    <p>Solid blue circle with a white symbol or arrow inside.</p>
                </div>
            </div>
        </div>

        <div id="simulator" class="tab-content bento-grid w-full">
            <div class="col-12 info-card accent-bar-teal p-6 md:p-8 bg-teal-50/20 panel-animate">
                <h2 class="text-2xl font-bold text-stone-800 mb-6 flex items-center">
                    <span class="bg-teal-100 text-teal-700 p-2 rounded-lg mr-3"><i class="fas fa-brain"></i></span> Diagnostic Simulator
                </h2>
                <div id="flashcard-container" class="bg-white p-6 md:p-8 rounded-2xl border border-stone-200 shadow-sm relative overflow-hidden">
                    <div class="absolute top-0 left-0 h-1 bg-stone-100 w-full">
                        <div id="progress-bar" class="h-full bg-orange-500 transition-all duration-300 w-0"></div>
                    </div>
                    <div class="flex flex-col md:flex-row gap-8 items-center">
                        <div class="w-full md:w-1/3 bg-stone-50 rounded-xl p-6 flex flex-col items-center justify-center min-h-[250px] border border-stone-200 shadow-inner" id="visual-container">
                            </div>
                        <div class="w-full md:w-2/3">
                            <h3 id="question-text" class="text-xl font-bold text-stone-800 mb-4">Booting Simulator...</h3>
                            <div id="options-grid" class="grid grid-cols-1 md:grid-cols-2 gap-3"></div>
                            <div id="feedback-area" class="mt-4 hidden rounded-lg p-4 font-bold text-sm border"></div>
                            <button id="next-q-btn" class="mt-4 hidden px-8 py-3 bg-teal-600 text-white rounded-xl font-bold hover:bg-teal-700 transition w-full md:w-auto shadow-lg shadow-teal-600/20" onclick="nextCard()">Next Signal <i class="fas fa-arrow-right ml-2"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabId, btnElement) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('bg-white', 'text-orange-600', 'border-t-4', 'border-orange-600', 'shadow-[0_-4px_10px_-5px_rgba(0,0,0,0.1)]');
                btn.classList.add('bg-stone-50', 'text-stone-400');
            });
            document.getElementById(tabId).classList.add('active');
            if(btnElement) {
                btnElement.classList.remove('bg-stone-50', 'text-stone-400');
                btnElement.classList.add('bg-white', 'text-orange-600', 'border-t-4', 'border-orange-600', 'shadow-[0_-4px_10px_-5px_rgba(0,0,0,0.1)]');
            }
            gsap.fromTo(`#${tabId} .panel-animate`, { y: 30, opacity: 0 }, { y: 0, opacity: 1, duration: 0.5, stagger: 0.1, ease: "power3.out" });
        }

        document.addEventListener("DOMContentLoaded", () => {
            gsap.fromTo(".panel-animate", { y: 30, opacity: 0 }, { y: 0, opacity: 1, duration: 0.6, stagger: 0.1, ease: "power3.out" });
            loadCard(); 
        });

        // Flashcards upgraded to use embedded HTML/SVG instead of image URLs
        const flashcards = [
            {
                visual: `<div class="bg-orange-100 text-orange-800 w-full h-32 flex flex-col items-center justify-center rounded-xl border-2 border-dashed border-orange-300"><i class="fas fa-hand-paper text-3xl mb-2 text-orange-400"></i><span class="font-bold text-sm text-center px-2">Local Image Required<br>(police-stop.jpg)</span></div>`,
                desc: "Police: Left arm raised straight up, palm facing forward.",
                q: "What does this police hand signal indicate?",
                opts: ["Pull over to the right", "Stop all traffic", "Proceed straight", "Turn left"],
                ans: 1,
                exp: "This is the universal Stop Signal. When the police officer raises their left hand straight up, all traffic must halt behind the stop line."
            },
            {
                visual: `<div class="bg-orange-100 text-orange-800 w-full h-32 flex flex-col items-center justify-center rounded-xl border-2 border-dashed border-orange-300"><i class="fas fa-hand-point-right text-3xl mb-2 text-orange-400"></i><span class="font-bold text-sm text-center px-2">Local Image Required<br>(police-pullover.jpg)</span></div>`,
                desc: "Police: Left arm raised up, right arm pointing down and sweeping.",
                q: "How should you react to this signal?",
                opts: ["Accelerate and pass", "Stop immediately in lane", "Pull over to the side and stop", "Turn right"],
                ans: 2,
                exp: "This is the Pull Over signal. The left arm commands you to stop, and the right arm sweeps to direct you to the side of the road."
            },
            {
                visual: `<svg viewBox="0 0 100 100" class="h-32 drop-shadow-md"><circle cx="50" cy="50" r="45" fill="#ef4444"/><rect x="20" y="42" width="60" height="16" fill="white"/></svg>`,
                desc: "Sign: White background, solid red circle border.",
                q: "What does this specific red circle sign indicate?",
                opts: ["No Parking", "No Entry", "No U-Turn", "Stop and Yield"],
                ans: 1,
                exp: "A red circle with a horizontal white bar or a blank center indicates No Entry. Red circles always indicate strict prohibition."
            },
            {
                visual: `<svg viewBox="0 0 100 100" class="h-32 drop-shadow-md"><circle cx="50" cy="50" r="45" fill="#0ea5e9"/><path d="M50,25 L50,75 M35,45 L50,25 L65,45" stroke="white" stroke-width="8" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>`,
                desc: "Sign: Solid blue circle, white arrow pointing straight up.",
                q: "What does this mandatory sign require you to do?",
                opts: ["One-way street ahead", "Go straight only", "Minimum speed limit 50", "Expressway entrance ahead"],
                ans: 1,
                exp: "A white arrow in a blue circle means you MUST follow that direction. In this case, Go Straight Only."
            }
        ];

        let currentCard = 0;

        function loadCard() {
            const card = flashcards[currentCard];
            
            // Injecting HTML/SVG instead of Image URLs
            const container = document.getElementById('visual-container');
            container.innerHTML = card.visual + `<p class="text-stone-500 font-bold text-center text-sm px-4 mt-4">${card.desc}</p>`;
            
            document.getElementById('question-text').innerText = `Question ${currentCard + 1}: ${card.q}`;
            
            const optionsGrid = document.getElementById('options-grid');
            optionsGrid.innerHTML = '';
            
            card.opts.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'text-left p-4 rounded-xl bg-white border-2 border-stone-100 hover:border-teal-400 hover:bg-teal-50 text-stone-700 font-bold transition shadow-sm';
                btn.innerText = opt;
                btn.onclick = () => checkCardAnswer(index, btn);
                optionsGrid.appendChild(btn);
            });

            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('next-q-btn').classList.add('hidden');
            document.getElementById('progress-bar').style.width = `${((currentCard) / flashcards.length) * 100}%`;
        }

        function checkCardAnswer(selectedIndex, btnElement) {
            const card = flashcards[currentCard];
            const feedback = document.getElementById('feedback-area');
            const buttons = document.getElementById('options-grid').children;
            
            for(let b of buttons) { b.disabled = true; b.classList.add('opacity-50', 'cursor-not-allowed'); b.classList.remove('hover:border-teal-400', 'hover:bg-teal-50'); }
            feedback.className = 'mt-4 rounded-lg p-4 font-bold text-sm border';

            if (selectedIndex === card.ans) {
                btnElement.classList.replace('bg-white', 'bg-teal-500'); btnElement.classList.replace('border-stone-100', 'border-teal-600'); btnElement.classList.replace('text-stone-700', 'text-white'); btnElement.classList.remove('opacity-50');
                feedback.innerHTML = `<i class="fas fa-check-circle mr-2"></i> Correct! ${card.exp}`; feedback.classList.add('bg-teal-50', 'text-teal-800', 'border-teal-200');
            } else {
                btnElement.classList.replace('bg-white', 'bg-red-500'); btnElement.classList.replace('border-stone-100', 'border-red-600'); btnElement.classList.replace('text-stone-700', 'text-white'); btnElement.classList.remove('opacity-50');
                feedback.innerHTML = `<i class="fas fa-times-circle mr-2"></i> Incorrect. ${card.exp}`; feedback.classList.add('bg-red-50', 'text-red-800', 'border-red-200');
                buttons[card.ans].classList.replace('bg-white', 'bg-teal-500'); buttons[card.ans].classList.replace('border-stone-100', 'border-teal-600'); buttons[card.ans].classList.replace('text-stone-700', 'text-white'); buttons[card.ans].classList.remove('opacity-50');
            }
            
            document.getElementById('next-q-btn').classList.remove('hidden');
            document.getElementById('progress-bar').style.width = `${((currentCard + 1) / flashcards.length) * 100}%`;
            if (currentCard === flashcards.length - 1) { document.getElementById('next-q-btn').innerHTML = 'Restart Engine <i class="fas fa-redo ml-2"></i>'; }
        }

        function nextCard() {
            if (currentCard < flashcards.length - 1) { currentCard++; loadCard(); } 
            else { currentCard = 0; loadCard(); }
        }
    </script>
</body>
</html>
